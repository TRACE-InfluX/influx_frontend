(function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s="fa38")})({fa38:function(e,t,r){"use strict";function n(e,t){if(t){let r=[],n=JSON.parse(t);for(let t of e){let e=t.id;t.engagement=n.e[e],t.relevance=n.r[e],t.activity=n.a[e],r[n.s[e]]=t}return{influencers:r,cache:t}}let r=e.length;for(let a of e)a.weights=JSON.parse(atob(a.weights.slice(2,-1)));let n=(e,t)=>{for(let r in t.weights)e[r]=t.weights[r]+(e[r]||0);return e},o=e.reduce(n,{});for(let a in o)o[a]=(o[a]-1)/r;for(let a of e){let e={};for(let t in a.weights){let r=o[t];r&&(e[t]=(a.weights[t]-r)/(r+1),"#"==t[0]&&(e[t]*=5))}a.weights=e}let i=e.find(e=>"@serotoninplus"==e.username).weights;for(let a of e){a.relevance=0;for(let e in i){let t=a.weights[e];t&&(a.relevance+=i[e]+t)}}t={e:{},r:{},a:{},s:{}},e.sort((e,t)=>t.engagement-e.engagement);for(let a=0;a<r;++a){let n=100*(r-a)/r;e[a].engagement=n,t.e[e[a].id]=n}e.sort((e,t)=>t.relevance-e.relevance);for(let a=0;a<r;++a){let n=100*(r-a)/r;e[a].relevance=n,t.r[e[a].id]=n}e.sort((e,t)=>t.activity-e.activity);for(let a=0;a<r;++a){let n=100*(r-a)/r;e[a].activity=n,t.a[e[a].id]=n}e.sort((e,t)=>t.activity+t.engagement+t.relevance-e.activity-e.engagement-e.relevance);for(let a=0;a<r;++a)t.s[e[a].id]=a;return t=JSON.stringify(t),{influencers:e,cache:t}}r.r(t),r.d(t,"process",function(){return n}),addEventListener("message",function(e){var r,n,o=e.data,i=o.type,a=o.method,s=o.id,l=o.params;"RPC"===i&&a&&(n=(r=t[a])?Promise.resolve().then(function(){return r.apply(t,l)}):Promise.reject("No such method"),n.then(function(e){postMessage({type:"RPC",id:s,result:e})}).catch(function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:"RPC",id:s,error:t})}))}),postMessage({type:"RPC",method:"ready"})}});
//# sourceMappingURL=89e8828480719ef768d1.worker.js.map